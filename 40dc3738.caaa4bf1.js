(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{69:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return r})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return p}));var i=n(2),a=n(6),s=(n(0),n(95)),l={id:"client_eik_json",title:"The eik.json File",sidebar_label:"The eik.json File"},r={unversionedId:"client_eik_json",id:"client_eik_json",isDocsHomePage:!1,title:"The eik.json File",description:"Eik packaging is configured by way of a JSON meta file called eik.json. Any project that publishes assets to an Eik server must provide this file and use it to configure project setup.",source:"@site/docs/eik_json.md",permalink:"/docs/client_eik_json",sidebar_label:"The eik.json File",sidebar:"someSidebar",previous:{title:"Client Login",permalink:"/docs/client_login"},next:{title:"Application Packages",permalink:"/docs/client_app_packages"}},o=[{value:"Example eik.json file",id:"example-eikjson-file",children:[]},{value:"Generating an eik.json file",id:"generating-an-eikjson-file",children:[{value:"Example scaffolded eik.json file",id:"example-scaffolded-eikjson-file",children:[]}]},{value:"eik.json file fields",id:"eikjson-file-fields",children:[{value:"name",id:"name",children:[]},{value:"version",id:"version",children:[]},{value:"server",id:"server",children:[]},{value:"js",id:"js",children:[]},{value:"css",id:"css",children:[]},{value:"import-map",id:"import-map",children:[]},{value:"out",id:"out",children:[]}]}],c={rightToc:o};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(i.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Eik packaging is configured by way of a JSON meta file called ",Object(s.b)("inlineCode",{parentName:"p"},"eik.json"),". Any project that publishes assets to an Eik server must provide this file and use it to configure project setup."),Object(s.b)("h3",{id:"example-eikjson-file"},"Example eik.json file"),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "my-app",\n  "version": "1.0.0",\n  "server": "https://assets.myeikserver.com",\n  "js": "./scripts.js",\n  "css": "./styles.css",\n  "import-map": "https://assets.myeikserver.com/map/my-map/1.0.0"\n}\n')),Object(s.b)("h2",{id:"generating-an-eikjson-file"},"Generating an eik.json file"),Object(s.b)("p",null,"The Eik client provides a scaffolding tool that can be used to generate an ",Object(s.b)("inlineCode",{parentName:"p"},"eik.json")," file in the current directory."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-sh"}),"eik init\n")),Object(s.b)("p",null,"Once generated, it's necessary to add information about the Eik server URL for the project, asset entrypoints and so on."),Object(s.b)("h3",{id:"example-scaffolded-eikjson-file"},"Example scaffolded eik.json file"),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "",\n  "version": "1.0.0",\n  "server": "",\n  "js": "",\n  "css": ""\n}\n')),Object(s.b)("h2",{id:"eikjson-file-fields"},"eik.json file fields"),Object(s.b)("h3",{id:"name"},"name"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"required")),Object(s.b)("p",null,"Defines the value that will be used on the Eik server to configure the namespace for the project. This should be unique to an organisation."),Object(s.b)("p",null,"See ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/client_app_packages"}),"application packages")," for more information."),Object(s.b)("h3",{id:"version"},"version"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"required")),Object(s.b)("p",null,"Defines current Eik package version using ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"https://semver.org/"}),"semver"),". This must be unique to a given package name within an organisation. Attempting to republish the same version a second time will fail."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "version": "1.0.0"\n}\n')),Object(s.b)("p",null,"You can manually update this value or use the ",Object(s.b)("inlineCode",{parentName:"p"},"eik version")," command to automate the process."),Object(s.b)("p",null,"See ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/client_app_packages"}),"application packages")," for more information."),Object(s.b)("h3",{id:"server"},"server"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"required")),Object(s.b)("p",null,"Defines the location of the Eik server that the project will publish to."),Object(s.b)("p",null,"See the ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/server"}),"server docs")," for how to setup and configure an Eik server."),Object(s.b)("h3",{id:"js"},"js"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"optional but one of either js or css must be provided")),Object(s.b)("p",null,"Defines JavaScript file entrypoints to publish. This can be a string defining a single entrypoint or it can be a object that maps publish paths to local file system file locations. "),Object(s.b)("p",null,"See ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/client_app_packages"}),"application packages")," for more information."),Object(s.b)("h4",{id:"basic-string-entrypoints"},"Basic string entrypoints"),Object(s.b)("p",null,"A single string with the path to a JavaScript file to be included when publishing."),Object(s.b)("p",null,"The following defines a single JavaScript entrypoint at ",Object(s.b)("inlineCode",{parentName:"p"},"./scripts.js")," that will be published to the Eik server and subsequently be available at ",Object(s.b)("inlineCode",{parentName:"p"},"/pkg/<name>/<version>/index.js"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "js": "./scripts.js",\n}\n')),Object(s.b)("h4",{id:"entrypoint-file-mappings"},"Entrypoint file mappings"),Object(s.b)("p",null,"An object can be provided to define any number of JavaScript files to be included when publishing. Object keys define publish locations on the Eik server and object values define the local file entrypoint locations. This aligns fairly well with ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"https://nodejs.org/dist/latest-v14.x/docs/api/esm.html#esm_package_entry_points"}),"ESM package entrypoints")," in Node.js"),Object(s.b)("p",null,"The following defines several JavaScript entrypoints and their locations on the server where they will be published to. "),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "js": {\n    "./esm.js": "./esm.js",\n    "./esm.js.map": "./esm.js.map",\n    "./ie11.js": "./ie11.js",\n    "./ie11.js.map": "./ie11.js.map",\n  }\n}\n')),Object(s.b)("p",null,"This will result in 4 files at the following locations:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"/pkg/<name>/<version>/esm.js")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"/pkg/<name>/<version>/esm.js.map")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"/pkg/<name>/<version>/ie11.js")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"/pkg/<name>/<version>/ie11.js.map"))),Object(s.b)("p",null,"See ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/client_app_packages"}),"application packages")," for more information."),Object(s.b)("h3",{id:"css"},"css"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"optional but one of either js or css must be provided")),Object(s.b)("p",null,"Defines CSS file entrypoints to publish. This can be a string defining a single entrypoint or it can be a object that maps publish paths to local file system file locations. "),Object(s.b)("h4",{id:"basic-string-entrypoints-1"},"Basic string entrypoints"),Object(s.b)("p",null,"A single string with the path to a CSS file to be included when publishing."),Object(s.b)("p",null,"The following defines a single CSS entrypoint at ",Object(s.b)("inlineCode",{parentName:"p"},"./styles.css")," that will be published to the Eik server and subsequently be available at ",Object(s.b)("inlineCode",{parentName:"p"},"/pkg/<name>/<version>/index.css"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "css": "./styles.css",\n}\n')),Object(s.b)("h4",{id:"entrypoint-file-mappings-1"},"Entrypoint file mappings"),Object(s.b)("p",null,"An object can be provided to define any number of CSS files to be included when publishing. Object keys define publish locations on the Eik server and object values define the local file entrypoint locations. This aligns fairly well with ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"https://nodejs.org/dist/latest-v14.x/docs/api/esm.html#esm_package_entry_points"}),"ESM package entrypoints")," in Node.js"),Object(s.b)("p",null,"The following defines several CSS entrypoints and their locations on the server where they will be published to. "),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "js": {\n    "./styles.css": "./styles.css",\n    "./styles.css.map": "./styles.css.map",\n  }\n}\n')),Object(s.b)("p",null,"This will result in 2 files at the following locations:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"/pkg/<name>/<version>/styles.css")),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"/pkg/<name>/<version>/styles.css.map"))),Object(s.b)("p",null,"See ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/client_app_packages"}),"application packages")," for more information."),Object(s.b)("h3",{id:"import-map"},"import-map"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"optional")),Object(s.b)("p",null,"Can be used to include ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"https://github.com/WICG/import-maps#the-basic-idea"}),"import map")," files from URLs that will be used during a build to map bare import specifiers to given URLs. This can be specified as a single string or as an array of strings if you wish to use more than 1 import map in the build."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "import-map": "https://assets.myeikserver.com/map/my-map/1.0.0"\n}\n')),Object(s.b)("p",null,"or"),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "import-map": [\n    "https://assets.myeikserver.com/map/my-map/1.0.0",\n    "https://assets.myeikserver.com/map/my-map-2/1.0.0",\n  ]\n}\n')),Object(s.b)("p",null,"See ",Object(s.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/client_import_maps"}),"import maps")," for more information."),Object(s.b)("h3",{id:"out"},"out"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"optional"),Object(s.b)("li",{parentName:"ul"},"default: ",Object(s.b)("inlineCode",{parentName:"li"},"./.eik"))),Object(s.b)("p",null,"Can be used to configure the app's Eik build directory. By default this value is set to ",Object(s.b)("inlineCode",{parentName:"p"},".eik")," which indicates that local Eik files should be placed in a folder called ",Object(s.b)("inlineCode",{parentName:"p"},".eik")," in the current working directory."),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{className:"language-json"}),'{\n  "out": "./eik"\n}\n')))}p.isMDXComponent=!0},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var i=n(0),a=n.n(i);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),p=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},b=function(e){var t=p(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},j=a.a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),b=p(n),j=i,m=b["".concat(l,".").concat(j)]||b[j]||u[j]||s;return n?a.a.createElement(m,r(r({ref:t},c),{},{components:n})):a.a.createElement(m,r({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,l=new Array(s);l[0]=j;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var c=2;c<s;c++)l[c]=n[c];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,n)}j.displayName="MDXCreateElement"}}]);